const express = require("express");
const morgan = require("morgan");
const cors = require("cors");
const xss = require("xss-clean");
const helmet = require("helmet");
const compression = require("compression");
const bodyParser = require("body-parser");
const routerNavigation = require("./routes");
require("dotenv").config();
const app = express();
const port = process.env.PORT;
app.use(morgan("dev"));
app.use(cors());
app.options("*", cors());
app.use(xss());
app.use(helmet());
app.use(compression());
app.use(bodyParser.urlencoded({
  extended: false
}));
app.use(bodyParser.json());
app.use(express.static("public")); // example read image = localhost:3001/uploads/movie/filename

app.use("/", routerNavigation);
app.use("/*", (req, res) => {
  res.status(404).send("Path not found !");
});
app.listen(port, () => {
  // eslint-disable-next-line no-console
  console.log(`App listen in port ${port}`);
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIm1vcmdhbiIsImNvcnMiLCJ4c3MiLCJoZWxtZXQiLCJjb21wcmVzc2lvbiIsImJvZHlQYXJzZXIiLCJyb3V0ZXJOYXZpZ2F0aW9uIiwiY29uZmlnIiwiYXBwIiwicG9ydCIsInByb2Nlc3MiLCJlbnYiLCJQT1JUIiwidXNlIiwib3B0aW9ucyIsInVybGVuY29kZWQiLCJleHRlbmRlZCIsImpzb24iLCJzdGF0aWMiLCJyZXEiLCJyZXMiLCJzdGF0dXMiLCJzZW5kIiwibGlzdGVuIiwiY29uc29sZSIsImxvZyJdLCJzb3VyY2VzIjpbIi4uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XG5jb25zdCBtb3JnYW4gPSByZXF1aXJlKFwibW9yZ2FuXCIpO1xuY29uc3QgY29ycyA9IHJlcXVpcmUoXCJjb3JzXCIpO1xuY29uc3QgeHNzID0gcmVxdWlyZShcInhzcy1jbGVhblwiKTtcbmNvbnN0IGhlbG1ldCA9IHJlcXVpcmUoXCJoZWxtZXRcIik7XG5jb25zdCBjb21wcmVzc2lvbiA9IHJlcXVpcmUoXCJjb21wcmVzc2lvblwiKTtcbmNvbnN0IGJvZHlQYXJzZXIgPSByZXF1aXJlKFwiYm9keS1wYXJzZXJcIik7XG5jb25zdCByb3V0ZXJOYXZpZ2F0aW9uID0gcmVxdWlyZShcIi4vcm91dGVzXCIpO1xucmVxdWlyZShcImRvdGVudlwiKS5jb25maWcoKTtcblxuY29uc3QgYXBwID0gZXhwcmVzcygpO1xuY29uc3QgcG9ydCA9IHByb2Nlc3MuZW52LlBPUlQ7XG5cbmFwcC51c2UobW9yZ2FuKFwiZGV2XCIpKTtcbmFwcC51c2UoY29ycygpKTtcbmFwcC5vcHRpb25zKFwiKlwiLCBjb3JzKCkpO1xuYXBwLnVzZSh4c3MoKSk7XG5hcHAudXNlKGhlbG1ldCgpKTtcbmFwcC51c2UoY29tcHJlc3Npb24oKSk7XG5hcHAudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiBmYWxzZSB9KSk7XG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKTtcbmFwcC51c2UoZXhwcmVzcy5zdGF0aWMoXCJwdWJsaWNcIikpOyAvLyBleGFtcGxlIHJlYWQgaW1hZ2UgPSBsb2NhbGhvc3Q6MzAwMS91cGxvYWRzL21vdmllL2ZpbGVuYW1lXG5cbmFwcC51c2UoXCIvXCIsIHJvdXRlck5hdmlnYXRpb24pO1xuYXBwLnVzZShcIi8qXCIsIChyZXEsIHJlcykgPT4ge1xuICByZXMuc3RhdHVzKDQwNCkuc2VuZChcIlBhdGggbm90IGZvdW5kICFcIik7XG59KTtcblxuYXBwLmxpc3Rlbihwb3J0LCAoKSA9PiB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gIGNvbnNvbGUubG9nKGBBcHAgbGlzdGVuIGluIHBvcnQgJHtwb3J0fWApO1xufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUNsQyxNQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxRQUFRLENBQUM7QUFDaEMsTUFBTUUsSUFBSSxHQUFHRixPQUFPLENBQUMsTUFBTSxDQUFDO0FBQzVCLE1BQU1HLEdBQUcsR0FBR0gsT0FBTyxDQUFDLFdBQVcsQ0FBQztBQUNoQyxNQUFNSSxNQUFNLEdBQUdKLE9BQU8sQ0FBQyxRQUFRLENBQUM7QUFDaEMsTUFBTUssV0FBVyxHQUFHTCxPQUFPLENBQUMsYUFBYSxDQUFDO0FBQzFDLE1BQU1NLFVBQVUsR0FBR04sT0FBTyxDQUFDLGFBQWEsQ0FBQztBQUN6QyxNQUFNTyxnQkFBZ0IsR0FBR1AsT0FBTyxDQUFDLFVBQVUsQ0FBQztBQUM1Q0EsT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDUSxNQUFNLENBQUMsQ0FBQztBQUUxQixNQUFNQyxHQUFHLEdBQUdWLE9BQU8sQ0FBQyxDQUFDO0FBQ3JCLE1BQU1XLElBQUksR0FBR0MsT0FBTyxDQUFDQyxHQUFHLENBQUNDLElBQUk7QUFFN0JKLEdBQUcsQ0FBQ0ssR0FBRyxDQUFDYixNQUFNLENBQUMsS0FBSyxDQUFDLENBQUM7QUFDdEJRLEdBQUcsQ0FBQ0ssR0FBRyxDQUFDWixJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ2ZPLEdBQUcsQ0FBQ00sT0FBTyxDQUFDLEdBQUcsRUFBRWIsSUFBSSxDQUFDLENBQUMsQ0FBQztBQUN4Qk8sR0FBRyxDQUFDSyxHQUFHLENBQUNYLEdBQUcsQ0FBQyxDQUFDLENBQUM7QUFDZE0sR0FBRyxDQUFDSyxHQUFHLENBQUNWLE1BQU0sQ0FBQyxDQUFDLENBQUM7QUFDakJLLEdBQUcsQ0FBQ0ssR0FBRyxDQUFDVCxXQUFXLENBQUMsQ0FBQyxDQUFDO0FBQ3RCSSxHQUFHLENBQUNLLEdBQUcsQ0FBQ1IsVUFBVSxDQUFDVSxVQUFVLENBQUM7RUFBRUMsUUFBUSxFQUFFO0FBQU0sQ0FBQyxDQUFDLENBQUM7QUFDbkRSLEdBQUcsQ0FBQ0ssR0FBRyxDQUFDUixVQUFVLENBQUNZLElBQUksQ0FBQyxDQUFDLENBQUM7QUFDMUJULEdBQUcsQ0FBQ0ssR0FBRyxDQUFDZixPQUFPLENBQUNvQixNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDOztBQUVuQ1YsR0FBRyxDQUFDSyxHQUFHLENBQUMsR0FBRyxFQUFFUCxnQkFBZ0IsQ0FBQztBQUM5QkUsR0FBRyxDQUFDSyxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUNNLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQzFCQSxHQUFHLENBQUNDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLGtCQUFrQixDQUFDO0FBQzFDLENBQUMsQ0FBQztBQUVGZCxHQUFHLENBQUNlLE1BQU0sQ0FBQ2QsSUFBSSxFQUFFLE1BQU07RUFDckI7RUFDQWUsT0FBTyxDQUFDQyxHQUFHLENBQUUsc0JBQXFCaEIsSUFBSyxFQUFDLENBQUM7QUFDM0MsQ0FBQyxDQUFDIn0=