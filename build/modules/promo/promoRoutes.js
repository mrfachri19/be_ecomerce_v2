const express = require("express");
const Router = express.Router();
const middlewareAuth = require("../../middleware/auth");
const middlewareUpload = require("../../middleware/uploadPromo");
//========================================================
const promoController = require("./promoController");
Router.post("/", middlewareAuth.authentication, middlewareAuth.isAdmin, middlewareUpload, promoController.postPromo);
Router.get("/", middlewareAuth.authentication,
// middlewareAuth.isAdmin,
promoController.getAllPromo);
Router.get("/:id", middlewareAuth.authentication,
// middlewareAuth.isAdmin,
promoController.getPromoById);
Router.patch("/:id", middlewareAuth.authentication, middlewareAuth.isAdmin, middlewareUpload, promoController.updatePromo);
Router.delete("/:id", middlewareAuth.authentication, middlewareAuth.isAdmin, promoController.deletePromo);
module.exports = Router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIlJvdXRlciIsIm1pZGRsZXdhcmVBdXRoIiwibWlkZGxld2FyZVVwbG9hZCIsInByb21vQ29udHJvbGxlciIsInBvc3QiLCJhdXRoZW50aWNhdGlvbiIsImlzQWRtaW4iLCJwb3N0UHJvbW8iLCJnZXQiLCJnZXRBbGxQcm9tbyIsImdldFByb21vQnlJZCIsInBhdGNoIiwidXBkYXRlUHJvbW8iLCJkZWxldGUiLCJkZWxldGVQcm9tbyIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvbW9kdWxlcy9wcm9tby9wcm9tb1JvdXRlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBleHByZXNzID0gcmVxdWlyZShcImV4cHJlc3NcIik7XG5jb25zdCBSb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuY29uc3QgbWlkZGxld2FyZUF1dGggPSByZXF1aXJlKFwiLi4vLi4vbWlkZGxld2FyZS9hdXRoXCIpO1xuY29uc3QgbWlkZGxld2FyZVVwbG9hZCA9IHJlcXVpcmUoXCIuLi8uLi9taWRkbGV3YXJlL3VwbG9hZFByb21vXCIpO1xuLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuY29uc3QgcHJvbW9Db250cm9sbGVyID0gcmVxdWlyZShcIi4vcHJvbW9Db250cm9sbGVyXCIpO1xuXG5Sb3V0ZXIucG9zdChcbiAgXCIvXCIsXG4gIG1pZGRsZXdhcmVBdXRoLmF1dGhlbnRpY2F0aW9uLFxuICBtaWRkbGV3YXJlQXV0aC5pc0FkbWluLFxuICBtaWRkbGV3YXJlVXBsb2FkLFxuICBwcm9tb0NvbnRyb2xsZXIucG9zdFByb21vXG4pO1xuXG5Sb3V0ZXIuZ2V0KFxuICBcIi9cIixcbiAgbWlkZGxld2FyZUF1dGguYXV0aGVudGljYXRpb24sXG4gIC8vIG1pZGRsZXdhcmVBdXRoLmlzQWRtaW4sXG4gIHByb21vQ29udHJvbGxlci5nZXRBbGxQcm9tb1xuKTtcblxuUm91dGVyLmdldChcbiAgXCIvOmlkXCIsXG4gIG1pZGRsZXdhcmVBdXRoLmF1dGhlbnRpY2F0aW9uLFxuICAvLyBtaWRkbGV3YXJlQXV0aC5pc0FkbWluLFxuICBwcm9tb0NvbnRyb2xsZXIuZ2V0UHJvbW9CeUlkXG4pO1xuXG5Sb3V0ZXIucGF0Y2goXG4gIFwiLzppZFwiLFxuICBtaWRkbGV3YXJlQXV0aC5hdXRoZW50aWNhdGlvbixcbiAgbWlkZGxld2FyZUF1dGguaXNBZG1pbixcbiAgbWlkZGxld2FyZVVwbG9hZCxcbiAgcHJvbW9Db250cm9sbGVyLnVwZGF0ZVByb21vXG4pO1xuXG5Sb3V0ZXIuZGVsZXRlKFxuICBcIi86aWRcIixcbiAgbWlkZGxld2FyZUF1dGguYXV0aGVudGljYXRpb24sXG4gIG1pZGRsZXdhcmVBdXRoLmlzQWRtaW4sXG4gIHByb21vQ29udHJvbGxlci5kZWxldGVQcm9tb1xuKTtcblxubW9kdWxlLmV4cG9ydHMgPSBSb3V0ZXI7XG4iXSwibWFwcGluZ3MiOiJBQUFBLE1BQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQVMsQ0FBQztBQUNsQyxNQUFNQyxNQUFNLEdBQUdGLE9BQU8sQ0FBQ0UsTUFBTSxDQUFDLENBQUM7QUFDL0IsTUFBTUMsY0FBYyxHQUFHRixPQUFPLENBQUMsdUJBQXVCLENBQUM7QUFDdkQsTUFBTUcsZ0JBQWdCLEdBQUdILE9BQU8sQ0FBQyw4QkFBOEIsQ0FBQztBQUNoRTtBQUNBLE1BQU1JLGVBQWUsR0FBR0osT0FBTyxDQUFDLG1CQUFtQixDQUFDO0FBRXBEQyxNQUFNLENBQUNJLElBQUksQ0FDVCxHQUFHLEVBQ0hILGNBQWMsQ0FBQ0ksY0FBYyxFQUM3QkosY0FBYyxDQUFDSyxPQUFPLEVBQ3RCSixnQkFBZ0IsRUFDaEJDLGVBQWUsQ0FBQ0ksU0FDbEIsQ0FBQztBQUVEUCxNQUFNLENBQUNRLEdBQUcsQ0FDUixHQUFHLEVBQ0hQLGNBQWMsQ0FBQ0ksY0FBYztBQUM3QjtBQUNBRixlQUFlLENBQUNNLFdBQ2xCLENBQUM7QUFFRFQsTUFBTSxDQUFDUSxHQUFHLENBQ1IsTUFBTSxFQUNOUCxjQUFjLENBQUNJLGNBQWM7QUFDN0I7QUFDQUYsZUFBZSxDQUFDTyxZQUNsQixDQUFDO0FBRURWLE1BQU0sQ0FBQ1csS0FBSyxDQUNWLE1BQU0sRUFDTlYsY0FBYyxDQUFDSSxjQUFjLEVBQzdCSixjQUFjLENBQUNLLE9BQU8sRUFDdEJKLGdCQUFnQixFQUNoQkMsZUFBZSxDQUFDUyxXQUNsQixDQUFDO0FBRURaLE1BQU0sQ0FBQ2EsTUFBTSxDQUNYLE1BQU0sRUFDTlosY0FBYyxDQUFDSSxjQUFjLEVBQzdCSixjQUFjLENBQUNLLE9BQU8sRUFDdEJILGVBQWUsQ0FBQ1csV0FDbEIsQ0FBQztBQUVEQyxNQUFNLENBQUNDLE9BQU8sR0FBR2hCLE1BQU0ifQ==