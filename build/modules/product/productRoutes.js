const express = require("express");
const Router = express.Router();
const productController = require("./productController");
const middlewareAuth = require("../../middleware/auth");
const middlewareUpload = require("../../middleware/uploadProduct");
Router.get("/", middlewareAuth.authentication, productController.getAllProduct);
Router.get("/:id", middlewareAuth.authentication, productController.getProductById);
Router.post("/", middlewareAuth.authentication, middlewareAuth.isAdmin, middlewareUpload, productController.postProduct);
Router.patch("/:id", middlewareAuth.authentication, middlewareAuth.isAdmin, middlewareUpload, productController.updateProduct);
Router.delete("/:id", middlewareAuth.authentication, middlewareAuth.isAdmin, productController.deleteProduct);
module.exports = Router;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsIlJvdXRlciIsInByb2R1Y3RDb250cm9sbGVyIiwibWlkZGxld2FyZUF1dGgiLCJtaWRkbGV3YXJlVXBsb2FkIiwiZ2V0IiwiYXV0aGVudGljYXRpb24iLCJnZXRBbGxQcm9kdWN0IiwiZ2V0UHJvZHVjdEJ5SWQiLCJwb3N0IiwiaXNBZG1pbiIsInBvc3RQcm9kdWN0IiwicGF0Y2giLCJ1cGRhdGVQcm9kdWN0IiwiZGVsZXRlIiwiZGVsZXRlUHJvZHVjdCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlcyI6WyIuLi8uLi8uLi9zcmMvbW9kdWxlcy9wcm9kdWN0L3Byb2R1Y3RSb3V0ZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoXCJleHByZXNzXCIpO1xuXG5jb25zdCBSb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5jb25zdCBwcm9kdWN0Q29udHJvbGxlciA9IHJlcXVpcmUoXCIuL3Byb2R1Y3RDb250cm9sbGVyXCIpO1xuY29uc3QgbWlkZGxld2FyZUF1dGggPSByZXF1aXJlKFwiLi4vLi4vbWlkZGxld2FyZS9hdXRoXCIpO1xuY29uc3QgbWlkZGxld2FyZVVwbG9hZCA9IHJlcXVpcmUoXCIuLi8uLi9taWRkbGV3YXJlL3VwbG9hZFByb2R1Y3RcIik7XG5cblJvdXRlci5nZXQoXG4gIFwiL1wiLFxuICBtaWRkbGV3YXJlQXV0aC5hdXRoZW50aWNhdGlvbixcbiAgcHJvZHVjdENvbnRyb2xsZXIuZ2V0QWxsUHJvZHVjdFxuKTtcblJvdXRlci5nZXQoXG4gIFwiLzppZFwiLFxuICBtaWRkbGV3YXJlQXV0aC5hdXRoZW50aWNhdGlvbixcbiAgcHJvZHVjdENvbnRyb2xsZXIuZ2V0UHJvZHVjdEJ5SWRcbik7XG5Sb3V0ZXIucG9zdChcbiAgXCIvXCIsXG4gIG1pZGRsZXdhcmVBdXRoLmF1dGhlbnRpY2F0aW9uLFxuICBtaWRkbGV3YXJlQXV0aC5pc0FkbWluLFxuICBtaWRkbGV3YXJlVXBsb2FkLFxuICBwcm9kdWN0Q29udHJvbGxlci5wb3N0UHJvZHVjdFxuKTtcblJvdXRlci5wYXRjaChcbiAgXCIvOmlkXCIsXG4gIG1pZGRsZXdhcmVBdXRoLmF1dGhlbnRpY2F0aW9uLFxuICBtaWRkbGV3YXJlQXV0aC5pc0FkbWluLFxuICBtaWRkbGV3YXJlVXBsb2FkLFxuICBwcm9kdWN0Q29udHJvbGxlci51cGRhdGVQcm9kdWN0XG4pO1xuUm91dGVyLmRlbGV0ZShcbiAgXCIvOmlkXCIsXG4gIG1pZGRsZXdhcmVBdXRoLmF1dGhlbnRpY2F0aW9uLFxuICBtaWRkbGV3YXJlQXV0aC5pc0FkbWluLFxuICBwcm9kdWN0Q29udHJvbGxlci5kZWxldGVQcm9kdWN0XG4pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJvdXRlcjtcbiJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsT0FBTyxHQUFHQyxPQUFPLENBQUMsU0FBUyxDQUFDO0FBRWxDLE1BQU1DLE1BQU0sR0FBR0YsT0FBTyxDQUFDRSxNQUFNLENBQUMsQ0FBQztBQUUvQixNQUFNQyxpQkFBaUIsR0FBR0YsT0FBTyxDQUFDLHFCQUFxQixDQUFDO0FBQ3hELE1BQU1HLGNBQWMsR0FBR0gsT0FBTyxDQUFDLHVCQUF1QixDQUFDO0FBQ3ZELE1BQU1JLGdCQUFnQixHQUFHSixPQUFPLENBQUMsZ0NBQWdDLENBQUM7QUFFbEVDLE1BQU0sQ0FBQ0ksR0FBRyxDQUNSLEdBQUcsRUFDSEYsY0FBYyxDQUFDRyxjQUFjLEVBQzdCSixpQkFBaUIsQ0FBQ0ssYUFDcEIsQ0FBQztBQUNETixNQUFNLENBQUNJLEdBQUcsQ0FDUixNQUFNLEVBQ05GLGNBQWMsQ0FBQ0csY0FBYyxFQUM3QkosaUJBQWlCLENBQUNNLGNBQ3BCLENBQUM7QUFDRFAsTUFBTSxDQUFDUSxJQUFJLENBQ1QsR0FBRyxFQUNITixjQUFjLENBQUNHLGNBQWMsRUFDN0JILGNBQWMsQ0FBQ08sT0FBTyxFQUN0Qk4sZ0JBQWdCLEVBQ2hCRixpQkFBaUIsQ0FBQ1MsV0FDcEIsQ0FBQztBQUNEVixNQUFNLENBQUNXLEtBQUssQ0FDVixNQUFNLEVBQ05ULGNBQWMsQ0FBQ0csY0FBYyxFQUM3QkgsY0FBYyxDQUFDTyxPQUFPLEVBQ3RCTixnQkFBZ0IsRUFDaEJGLGlCQUFpQixDQUFDVyxhQUNwQixDQUFDO0FBQ0RaLE1BQU0sQ0FBQ2EsTUFBTSxDQUNYLE1BQU0sRUFDTlgsY0FBYyxDQUFDRyxjQUFjLEVBQzdCSCxjQUFjLENBQUNPLE9BQU8sRUFDdEJSLGlCQUFpQixDQUFDYSxhQUNwQixDQUFDO0FBRURDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHaEIsTUFBTSJ9